<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Yellowtail" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/common.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- 공통 부분 END -->
    <link href="css/signup.css" rel="stylesheet">
    
    <title>모두의 식탁 - 회원가입</title>
  </head>
  <body>
    <div id="page" class="hfeed site">
      <!-- start page wrapper -->

      <header id="masthead" class="site-header navbar-fixed-top d-flex align-items-center p-0">
        <div class="header-navigation w-100">
            <div class="container-fluid">

                <div class="row head-row w-100 m-0 p-3">

                    <div class="brand-col">
                        <div class="site-branding navbar-brand">
                            <a href="index.html"><img src="images/logo.png" alt="모두의식탁" title="logo" class="logo"></a>
                        </div><!-- end logo -->
                    </div><!-- end col-md-3 -->

                    <div class="menu-col">
                        <nav class="site-navigation navbar navbar-expand-lg navbar-light">

                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse">
                                <ul class="navbar-nav">
                                    <li class="nav-item active">
                                        <a class="nav-link" href="index.html">홈<span class="sr-only">(current)</span></a>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">레시피</a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                                            <a class="dropdown-item" href="recipe-list.html">레시피 목록</a>
                                            <a class="dropdown-item" href="recipe-single.html">레시피 상세</a>
                                            <a class="dropdown-item" href="recipe-write.html">레시피 등록</a>
                                        </div>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown3" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">게시판</a>
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdown3">
                                            <a class="dropdown-item" href="board-list.html">게시판 목록</a>
                                            <a class="dropdown-item" href="board-single.html">게시판 상세</a>
                                            <a class="dropdown-item" href="board-write.html">게시판 등록</a>
                                        </div>
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a class="nav-link" href="mypage.html">마이페이지</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="login.html">로그인</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="signup.html">회원가입</a>
                                    </li>
                                </ul>
                            </div><!-- end navbar-collapse -->
                        </nav><!-- end site-navigation -->
                    </div><!-- end col-md-6 -->

                    <div class="side-col">
                        <nav class="social-navigation p-0">
                            <div class="social-container py-0">
                                <ul class="social-menu">
                                    <!-- <li><a href="#"><i class="fab fa-facebook-square"></i></a></li>
                                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                                    <li><a href="#"><i class="fab fa-instagram"></i></a></li> -->
                                </ul>
                            </div><!-- end social-container -->
                            <div class="search-container py-1">
                                <a href="recipe-list.html"><img src="images/search.svg" alt="검색버튼" title="search" class="nav-search"></a>
                            </div><!-- end search-container -->
                        </nav>
                    </div><!-- end col-md-3 -->

                </div><!-- end row -->
                
            </div><!-- end container-fluid -->
        </div><!-- end header-navigation -->
    </header><!-- end #masthead -->
    <div class="collapse navbar-collapse px-5 mb-3" id="navbarSupportedContent">
        <ul class="navbar-nav ms-3">
            <li class="nav-item active">
                <a class="nav-link" href="index.html">홈<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">레시피</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item" href="recipe-list.html">레시피 목록</a>
                    <a class="dropdown-item" href="recipe-single.html">레시피 상세</a>
                    <a class="dropdown-item" href="recipe-write.html">레시피 등록</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown3" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">게시판</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown3">
                    <a class="dropdown-item" href="board-list.html">게시판 목록</a>
                    <a class="dropdown-item" href="board-single.html">게시판 상세</a>
                    <a class="dropdown-item" href="board-write.html">게시판 등록</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link" href="mypage.html">마이페이지</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="login.html">로그인</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="signup.html">회원가입</a>
            </li>
        </ul>
    </div><!-- end navbar-collapse -->

      <div class="head-title py-4 m-0">
          <div class="container">
            <p class="page-title m-0 fs-2">SIGN UP</p>
          </div><!-- end container -->
      </div><!-- end head-title -->   

      <div class="main">
        <div class="py-3"></div>
        <div class="container">
          <div class="row">
            <div class="d-flex justify-content-center">
              <div class="acc-box equal">
                <div class="p-4 pt-0 p-title h3 mb-0 text-center">#회원가입</div>
                <p class="mb-0 text-center acc-btn">Join in our 모두의식탁</p>
                <p class="mt-3 acc-btn">*표시는 필수입력 항목입니다.</p>

			          <form method="GET">
                  <div class="form-group">
                    <label for="emailaddress">이메일 주소 *</label
                    ><input
                      type="email"
                      class="form-control"
                      id="id_email"
                      placeholder="you@email.com"
                      name="email"
                      required
                    />
                    <span class="email_input_re_1" style="display: none; color: green; text-align: left;">사용 가능한 이메일 입니다.</span>
                    <span class="email_input_re_2" style="display: none; color: red; text-align: left;">사용 중인 이메일입니다.</span>
                  </div>
                  <div class="form-group">
                    <label for="pw1">비밀번호 *</label
                    ><input
                    type="password"
                      class="form-control"
                      id="pw1"
                      placeholder="10자 이상 입력해주세요."
                      name="pwd"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="pw2">비밀번호 재입력*</label
                    ><input
                    type="password"
                      class="form-control"
                      id="pw2"
                      placeholder="10자 이상 입력해주세요."
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="completeName">이름*</label
                    ><input
                      type="text"
                      class="form-control"
                      id="id_name"
                      placeholder="ex. 홍길동"
                      maxlength=10
                      name="name"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="nickName">닉네임</label
                    ><input
                      type="text"
                      class="form-control"
                      id="id_nickname"
                      placeholder="ex. 보라돌이"
                      maxlength=12
                      name="nickname"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="phonenum">휴대폰번호</label
                    ><input
                      type="number"
                      class="form-control"
                      id="id_phonenum"
                      placeholder="숫자만 가능해요."
                      name="phone"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="completeName">프로필사진</label
                    ><input
                      type="text"
                      class="form-control"
                      id="completeName"
                      placeholder="drag&drop 예정"
                      name="profile_img"
                    />
                  </div>

				  <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              value="checked"
              id="form2Example3cg"
              required
            />
            <div class="form-check-label" for="form2Example3g"
              >본 사이트의 <a href="" class="text-body" target='_blank'><u>이용약관</u></a> 및 <a href="" class="text-body" target='_blank'><u>개인정보 수집 및 이용약관</u></a>에 동의합니다. (필수)
            </div>
          </div>

				  <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              value="checked"
              id="form2Example3cg"
            />
            <div class="form-check-label" for="form2Example3g"
              >본 사이트에서 진행하는 <a href="" class="text-body" target='_blank'><u>마케팅 및 이벤트 프로모션</u></a>에 고객님의 회원정보 활용에 동의합니다. (선택)
            </div>
          </div>

                  <button id="signupbutton" type="submit" class="btn btn-primary form-btn">
                    가입하기
                  </button>
                <!-- <a href="../login.do" class="fw-bold text-body"><u>Go Login</u></a></p> -->
             </form>

              </div>
              <!-- end acc-box -->
            </div>
            <!-- end col -->

          </div>
        </div>
        <!-- end container -->
      </div>
      <!-- end main -->
      <div class="footer-instagram">
        <div class="ig-btn">
          <a href="#" class="ig-follow"
            ><i class="fab fa-instagram"></i>&nbsp;Follow Me on Instagram</a
          >
        </div>
        <!-- end ig-btn -->
        <ul class="ig-feed">
          <li>
            <a href="#"><img src="images/content/ig-1.png" alt="photo" /></a>
          </li>
          <li>
            <a href="#"><img src="images/content/ig-2.png" alt="photo" /></a>
          </li>
          <li>
            <a href="#"><img src="images/content/ig-3.png" alt="photo" /></a>
          </li>
          <li>
            <a href="#"><img src="images/content/ig-4.png" alt="photo" /></a>
          </li>
          <li>
            <a href="#"><img src="images/content/ig-5.png" alt="photo" /></a>
          </li>
          <li>
            <a href="#"><img src="images/content/ig-6.png" alt="photo" /></a>
          </li>
        </ul>
      </div>
      <!-- end footer-instagram -->
      <div class="footer-social">
        <div class="container">
          <a href="#"><i class="fab fa-facebook-square"></i>Facebook</a
          ><a href="#"><i class="fab fa-twitter"></i>Twitter</a
          ><a href="#"><i class="fab fa-pinterest"></i>Pinterest</a
          ><a href="#"><i class="fab fa-instagram"></i>Instagram</a
          ><a href="#"><i class="fab fa-linkedin"></i>Linkedin</a
          ><a href="#"><i class="fab fa-youtube"></i>Youtube</a>
        </div>
        <!-- end container -->
      </div>
      <!-- footer-social -->
      <div class="bottom">
        <div class="container">
          <div class="row">
            <div class="col-md-6">
              <div class="widget widget-about">
                <div class="widget-inner">
                  <h3 class="widget-title">About Taplak</h3>
                  <p>
                    Investigationes demonstraverunt lectores legere me lius quod
                    ii legunt saepius. Claritas est etiam processus
                    dynamicus,qui sequitur mutationem consuetudium lectorum.
                    Mirum est notare quam littera gothica,quam nunc putamus
                    parum claram,anteposuerit litterarum formas humanitatis per
                    seacula quarta decima et quinta decima.
                  </p>
                </div>
                <!-- end widget-inner -->
              </div>
              <!-- end widget -->
            </div>
            <!-- end col -->
            <div class="col-md-6">
              <div class="widget widget-subscribe">
                <div class="widget-inner">
                  <h3 class="widget-title">Stay Updated</h3>
                  <span
                    >Register your email address to get promos,product updates
                    and other info.</span
                  >
                  <div class="subscribe-form">
                    <input
                      type="email"
                      name="EMAIL"
                      placeholder="Your email address"
                      required=""
                    /><input type="submit" value="Subscribe" />
                  </div>
                  <!-- end subscribe-form -->
                </div>
                <!-- end widget-inner -->
              </div>
              <!-- end widget -->
            </div>
            <!-- end col -->
          </div>
          <!-- end row -->
          <div class="row no-gutters">
            <div class="col-md-6">
              <div class="copy">
                <p>
                  &copy;2020 Taplak Web Template. Made with
                  <i class="fas fa-heart"></i>by Mattsapii
                </p>
              </div>
              <!-- end copy -->
            </div>
            <!-- end col -->
            <div class="col-md-6">
              <ul class="bottom-nav">
                <li><a href="http://www.bootstrapmb.com/">Home</a></li>
                <li><a href="#">Contact Us</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms and Conditions</a></li>
              </ul>
            </div>
            <!-- end col -->
          </div>
          <!-- end row -->
        </div>
        <!-- end container -->
      </div>
      <!-- end bottom -->
    </div>
    <!-- end #page hfeed site --><!-- jQuery(necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/vendor/modernizr-3.7.1.min.js"></script>
    <script src="js/vendor/jquery-3.4.1.min.js"></script>
    <!-- Include all compiled plugins(below),or include individual files as needed -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/plugin.js"></script>
    <script src="js/main.js"></script>

    <script>
        $(document).ready(function(){ //회원가입 페이지 들어오면 작동되는 fuction
            
            $("#join_button").on("click", function(){ //가입하기 버튼 클릭시 수행

                //중복 이메일을 넣고 가입하기 버튼 클릭시 
                var inputEmail = $('#id_email').val();	// #id_email에 입력되는 값
                var data = {checkEmail : inputEmail} // '컨트롤에 넘길 데이터 이름' : '데이터(#id_email에 입력되는 값)'
                    $.ajax({
                        type : "post",
                        url : "/signup.do/memberIdChk",
                        data : data,
                        success : function(result){
                            if(result == 'fail'){ //사용 불가 
                                alert("사용 중인 이메일입니다. 이메일을 다시 확인해주세요.");
                            } else if (result == 'noshow'){ //사용 불가
                                alert("이메일 길이가 너무 짧습니다.(10자 이상 입력해주세요)");
                            }
                            
                            $("#id_email").focus();	
                            return false;
                        } // success 종료
                        //여기에 작성하면 오류 발생
                    }); // ajax 종료
                
                //여기서부턴 하나라도 공란일시 alert 됨
                if($("#id_email").val()==""){
                    alert("이메일을 입력해주세요.");
                    $("#id_email").focus();
                    return false;
                }
        
                if($("#id_pw2").val()==""){
                    alert("비밀번호를 입력해주세요.");
                    $("#id_pw1").focus();
                    return false;
                }
                if($("#id_name").val()==""){
                    alert("이름을 입력해주세요.");
                    $("#id_name").focus();
                    return false;
                }
                if($("#id_nickname").val()==""){
                    alert("닉네임을 입력해주세요.");
                    $("#id_nickname").focus();
                    return false;
                }
                if($("#id_phonenum").val()==""){
                    alert("휴대폰 번호를 입력해주세요.");
                    $("#id_phonenum").focus();
                    return false;
                }
                
                //회원가입 버튼(회원가입 기능 정상 작동) // Q. 이메일 중복시 아래가 수행되지 않도록 하려면?
                $("#signup_form").attr("action", "/signup.do");
                $("#signup_form").submit();
            });
            
        });
            
            $(function(){ 
                $('#id_pw2').blur(function(){ //비밀번호 일치 여부 확인 alert
                    if($('#id_pw1').val() != $('#id_pw2').val()){
                        if($('#id_pw2').val()!=''){
                            alert("비밀번호가 일치하지 않습니다.");
                            //$'#id_pw1').val('');
                            $('#id_pw2').val('');
                            $('#id_pw2').focus();
                            }
                        }	
                    });
                });
            
            //가입 이메일(id) 중복여부 ajax
            $('#id_email').on("propertychange change tab keyup paste input", function(){
                
                var inputEmail = $('#id_email').val();	// #id_email에 입력되는 값
                var data = {checkEmail : inputEmail} // 컨트롤러에 넘길 데이터 이름' : '입력받는 이름(#id_email에 입력되는 값)'
                
                $.ajax({
                    type : "post",
                    url : "/signup.do/memberIdChk",
                    data : data,
                    success : function(result){
                        if(result == 'noshow'){ // 이메일 10자 미만시 문구 미노출
                            $('.email_input_re_1').css("display","none");
                            $('.email_input_re_2').css("display", "none");				
                        } else if(result == 'success'){ //사용 가능, 중복X
                            $('.email_input_re_1').css("display", "inline-block");
                            $('.email_input_re_2').css("display","none");					
                        } else if (result == 'fail'){ // 사용 불가, 중복 이메일 존재
                            $('.email_input_re_1').css("display","none");
                            $('.email_input_re_2').css("display", "inline-block");
                        }
                    } // success 종료
                }); // ajax 종료
            });// $('#id_email') function 종료
            
        </script>

  </body>
</html>